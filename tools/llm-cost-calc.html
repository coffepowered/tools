<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Processing Cost Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .input-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        select,
        button {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        select:hover,
        button:hover {
            border-color: #667eea;
        }

        select:focus,
        button:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: #667eea;
            color: white;
            font-weight: 600;
            border: none;
            margin-top: 23px;
        }

        button:hover {
            background: #5568d3;
        }

        .results-section {
            margin-top: 30px;
        }

        .sort-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }

        .sort-controls label {
            margin: 0;
            font-size: 14px;
        }

        .sort-controls select {
            width: 200px;
            padding: 8px;
        }

        .model-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            transition: transform 0.2s;
        }

        .model-card:hover {
            transform: translateY(-2px);
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            gap: 20px;
        }

        .model-info {
            flex: 1;
        }

        .model-name {
            font-weight: 700;
            color: #333;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .model-provider {
            font-weight: 400;
            color: #666;
            font-size: 14px;
        }

        .unit-pricing {
            font-size: 11px;
            color: #555;
            margin-top: 5px;
            line-height: 1.4;
        }

        .features {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        .feature-tag {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .model-cost {
            font-size: 28px;
            font-weight: 700;
            color: #667eea;
            white-space: nowrap;
        }

        .benchmark-info {
            background: rgba(255, 255, 255, 0.7);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            font-size: 12px;
        }

        .benchmark-title {
            font-weight: 700;
            margin-bottom: 6px;
            color: #333;
        }

        .benchmark-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 8px;
        }

        .benchmark-item {
            display: flex;
            justify-content: space-between;
            color: #555;
        }

        .cost-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            font-size: 13px;
            color: #555;
        }

        .breakdown-item {
            background: rgba(255, 255, 255, 0.6);
            padding: 8px;
            border-radius: 6px;
        }

        .breakdown-label {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .total-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin-top: 20px;
            text-align: center;
        }

        .total-label {
            font-size: 16px;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .total-amount {
            font-size: 42px;
            font-weight: 700;
        }

        .pricing-sources {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .pricing-sources h2 {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
        }

        .source-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .source-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .source-list li:before {
            content: "üîó";
            position: absolute;
            left: 0;
        }

        .source-list a {
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
        }

        .source-list a:hover {
            text-decoration: underline;
        }

        .cache-explanation {
            background: rgba(102, 126, 234, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .cache-explanation h3 {
            font-size: 16px;
            color: #333;
            margin-bottom: 10px;
        }

        .cache-explanation p {
            font-size: 13px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .cache-explanation ul {
            margin-left: 20px;
            font-size: 13px;
            color: #555;
            line-height: 1.6;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üí∞ LLM Processing Cost Calculator</h1>
        <p class="subtitle">Calculate costs for processing text with various LLM providers | <a href="#pricing-sources"
                style="color: #667eea; text-decoration: none;">View pricing sources</a></p>

        <div class="input-section">
            <div class="input-row">
                <div class="input-group">
                    <label for="textCount">Number of texts to process:</label>
                    <select id="textCount">
                        <option value="1000">1,000 texts</option>
                        <option value="100000" selected>100,000 texts</option>
                        <option value="1000000">1,000,000 texts</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="avgInputLength">Average input text length:</label>
                    <select id="avgInputLength">
                        <option value="1000" selected>1,000 characters (~250 tokens)</option>
                        <option value="5000">5,000 characters (~1,250 tokens)</option>
                        <option value="10000">10,000 characters (~2,500 tokens)</option>
                    </select>
                </div>
            </div>

            <div class="input-row">
                <div class="input-group">
                    <label for="avgOutputLength">Average output length:</label>
                    <select id="avgOutputLength">
                        <option value="100">100 characters (~25 tokens)</option>
                        <option value="1000" selected>1,000 characters (~250 tokens)</option>
                        <option value="5000">5,000 characters (~1,250 tokens)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="cacheUsage">Cache usage (% of inputs cached):</label>
                    <select id="cacheUsage">
                        <option value="0">0% - No caching</option>
                        <option value="25">25% - Low caching</option>
                        <option value="50" selected>50% - Medium caching</option>
                        <option value="75">75% - High caching</option>
                        <option value="90">90% - Very high caching</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="sort-controls">
            <label for="sortBy">Sort by:</label>
            <select id="sortBy">
                <option value="cost">Cost (Low to High)</option>
                <option value="cost-desc">Cost (High to Low)</option>
                <option value="intelligence">Intelligence (High to Low)</option>
                <option value="intelligence-asc">Intelligence (Low to High)</option>
                <option value="provider">Provider</option>
            </select>
        </div>

        <div class="results-section" id="results"></div>

        <div class="total-section">
            <div class="total-label">Total Estimated Cost (All Models)</div>
            <div class="total-amount" id="totalCost">‚Ç¨0.00</div>
        </div>

        <div class="pricing-sources" id="pricing-sources">
            <h2>üìã Pricing Sources & Information</h2>
            <ul class="source-list">
                <li><strong>OpenAI:</strong> <a href="https://openai.com/api/pricing/"
                        target="_blank">openai.com/api/pricing</a></li>
                <li><strong>Anthropic:</strong> <a href="https://docs.anthropic.com/en/docs/pricing"
                        target="_blank">docs.anthropic.com/en/docs/pricing</a></li>
                <li><strong>Mistral AI:</strong> <a href="https://mistral.ai/technology/#pricing"
                        target="_blank">mistral.ai/technology/#pricing</a></li>
            </ul>

            <div class="cache-explanation">
                <h3>‚ÑπÔ∏è How Caching is Calculated</h3>
                <p><strong>Cache Mechanism:</strong> Prompt caching stores frequently reused input tokens (like system
                    prompts, instructions, or common context) to reduce costs and latency on subsequent requests.</p>
                <ul>
                    <li><strong>OpenAI:</strong> Automatic caching for prompts >1024 tokens. Cache reads cost ~50% less
                        (10% of input price for cache read). Caches expire after 5-10 minutes of inactivity.</li>
                    <li><strong>Anthropic:</strong> Manual cache control with 90% discount on cache reads (10% of input
                        price). Cache writes cost 25% more than input. Expires after ~5 minutes.</li>
                    <li><strong>Mistral:</strong> No prompt caching currently available.</li>
                </ul>
                <p><strong>In this calculator:</strong> When you set cache usage to 50%, it means 50% of your input
                    tokens are read from cache (at discounted rate), and 50% are processed fresh. A small percentage of
                    cached inputs incur a one-time cache write cost.</p>
            </div>
        </div>
    </div>

    <script>
        // Pricing in USD per 1M tokens (updated Dec 2024)
        const models = [
            {
                name: 'GPT-5.2',
                provider: 'OpenAI',
                inputPrice: 1.75,
                outputPrice: 14.00,
                cacheReadPrice: 0.175,
                cacheWritePrice: 2.188,
                features: ['Structured Output', 'Tool Calling', 'Vision', 'Long Context'],
                benchmarks: {
                    'SWE-bench': '80.0%',
                    'GDPval': '70.9%',
                    'AIME 2025': '100%',
                    'Context': '400K tokens'
                },
                intelligence: 95
            },
            {
                name: 'GPT-5.2 Pro',
                provider: 'OpenAI',
                inputPrice: 21.00,
                outputPrice: 168.00,
                cacheReadPrice: 2.10,
                cacheWritePrice: 26.25,
                features: ['Structured Output', 'Tool Calling', 'Extended Thinking', 'Vision'],
                benchmarks: {
                    'GPQA Diamond': '93.2%',
                    'SWE-bench': '80.0%',
                    'Context': '400K tokens',
                    'Output': '128K tokens'
                },
                intelligence: 98
            },
            {
                name: 'GPT-5 (Standard)',
                provider: 'OpenAI',
                inputPrice: 1.25,
                outputPrice: 10.00,
                cacheReadPrice: 0.125,
                cacheWritePrice: 1.563,
                features: ['Structured Output', 'Tool Calling', 'Reasoning', 'Vision'],
                benchmarks: {
                    'SWE-bench': '74.9%',
                    'AIME 2025': '94.6%',
                    'œÑ2-bench': '96.7%',
                    'Context': '400K tokens'
                },
                intelligence: 90
            },
            {
                name: 'GPT-5 mini',
                provider: 'OpenAI',
                inputPrice: 0.25,
                outputPrice: 2.00,
                cacheReadPrice: 0.025,
                cacheWritePrice: 0.313,
                features: ['Structured Output', 'Tool Calling', 'Fast', 'Vision'],
                benchmarks: {
                    'MMLU': '82%',
                    'Coding': 'Strong',
                    'Speed': 'Fast',
                    'Context': '200K tokens'
                },
                intelligence: 75
            },
            {
                name: 'GPT-5 nano',
                provider: 'OpenAI',
                inputPrice: 0.05,
                outputPrice: 0.40,
                cacheReadPrice: 0.005,
                cacheWritePrice: 0.063,
                features: ['Structured Output', 'Tool Calling', 'Ultra Fast', 'Efficient'],
                benchmarks: {
                    'Speed': 'Ultra Fast',
                    'Efficiency': 'Highest',
                    'Use Case': 'High Volume',
                    'Context': '128K tokens'
                },
                intelligence: 65
            },
            {
                name: 'Claude Sonnet 4.5',
                provider: 'Anthropic',
                inputPrice: 3.00,
                outputPrice: 15.00,
                cacheReadPrice: 0.30,
                cacheWritePrice: 3.75,
                features: ['Structured Output', 'Tool Calling', 'Computer Use', 'Vision'],
                benchmarks: {
                    'SWE-bench': '77.2%',
                    'Computer Use': '61.4%',
                    'Coding': 'Best in class',
                    'Context': '200K tokens'
                },
                intelligence: 93
            },
            {
                name: 'Claude Haiku 4.5',
                provider: 'Anthropic',
                inputPrice: 0.80,
                outputPrice: 4.00,
                cacheReadPrice: 0.08,
                cacheWritePrice: 1.00,
                features: ['Structured Output', 'Tool Calling', 'Fast', 'Computer Use'],
                benchmarks: {
                    'SWE-bench': '73.3%',
                    'Speed': '4-5x faster',
                    'Cost': 'Best value',
                    'Context': '200K tokens'
                },
                intelligence: 80
            },
            {
                name: 'Claude Opus 4.5',
                provider: 'Anthropic',
                inputPrice: 5.00,
                outputPrice: 25.00,
                cacheReadPrice: 0.50,
                cacheWritePrice: 6.25,
                features: ['Structured Output', 'Tool Calling', 'Extended Thinking', 'Vision'],
                benchmarks: {
                    'SWE-bench': '80.9%',
                    'Terminal-bench': '59.3%',
                    'Long Tasks': 'Superior',
                    'Context': '200K tokens'
                },
                intelligence: 96
            },
            {
                name: 'Mistral Large 2',
                provider: 'Mistral AI',
                inputPrice: 3.00,
                outputPrice: 9.00,
                cacheReadPrice: null,
                cacheWritePrice: null,
                features: ['Function Calling', 'Multilingual', 'Code Generation', 'JSON Mode'],
                benchmarks: {
                    'MMLU': '84.0%',
                    'Coding': 'Strong',
                    'Languages': '80+',
                    'Context': '128K tokens'
                },
                intelligence: 85
            },
            {
                name: 'Mistral Small',
                provider: 'Mistral AI',
                inputPrice: 0.20,
                outputPrice: 0.60,
                cacheReadPrice: null,
                cacheWritePrice: null,
                features: ['Function Calling', 'Fast', 'Efficient', 'Multilingual'],
                benchmarks: {
                    'Speed': 'Very Fast',
                    'Cost': 'Low',
                    'Use Case': 'Simple Tasks',
                    'Context': '32K tokens'
                },
                intelligence: 70
            },
            {
                name: 'Pixtral Large',
                provider: 'Mistral AI',
                inputPrice: 2.00,
                outputPrice: 6.00,
                cacheReadPrice: null,
                cacheWritePrice: null,
                features: ['Vision', 'Multimodal', 'Function Calling', 'Code Generation'],
                benchmarks: {
                    'Vision': 'Strong',
                    'Multimodal': 'Yes',
                    'Context': '128K tokens',
                    'Images': 'Native support'
                },
                intelligence: 83
            },
            {
                name: 'Gemini 3 Flash',
                provider: 'Google',
                inputPrice: 0.50,
                outputPrice: 3.00,
                cacheReadPrice: null,
                cacheWritePrice: null,
                features: ['Structured Output', 'Tool Calling', 'Vision', 'Audio', 'Ultra Fast'],
                benchmarks: {
                    'SWE-bench': '78%',
                    'GPQA Diamond': '90.4%',
                    'MMMU Pro': '81.2%',
                    'Speed': '3x faster than 2.5 Pro'
                },
                intelligence: 88
            },
            {
                name: 'DeepSeek V3',
                provider: 'DeepSeek (Open Source)',
                inputPrice: 0.27,
                outputPrice: 1.10,
                cacheReadPrice: 0.07,
                cacheWritePrice: null,
                features: ['Open Source', 'MoE Architecture', 'Code Generation', 'Math'],
                benchmarks: {
                    'MMLU': '88.5%',
                    'MATH-500': '90.2%',
                    'HumanEval': '82.6%',
                    'Context': '128K tokens'
                },
                intelligence: 86
            },
            {
                name: 'Qwen 2.5 72B',
                provider: 'Alibaba (Open Source)',
                inputPrice: 0.07,
                outputPrice: 0.26,
                cacheReadPrice: null,
                cacheWritePrice: null,
                features: ['Open Source', 'Tool Calling', 'Multilingual', 'Long Context'],
                benchmarks: {
                    'Multilingual': '29+ languages',
                    'Coding': 'Strong',
                    'Math': 'Excellent',
                    'Context': '128K tokens'
                },
                intelligence: 82
            },
            {
                name: 'Qwen Turbo',
                provider: 'Alibaba',
                inputPrice: 0.05,
                outputPrice: 0.20,
                cacheReadPrice: 0.02,
                cacheWritePrice: null,
                features: ['Fast', 'Tool Calling', 'Long Context', 'Cost-Efficient'],
                benchmarks: {
                    'Speed': 'Very Fast',
                    'Cost': 'Ultra Low',
                    'Context': '1M tokens',
                    'Use Case': 'Simple Tasks'
                },
                intelligence: 72
            }
        ];

        const USD_TO_EUR = 0.92;

        function charsToTokens(chars) {
            return Math.ceil(chars / 4);
        }

        function calculateCosts() {
            const textCount = parseInt(document.getElementById('textCount').value);
            const avgInputLength = parseInt(document.getElementById('avgInputLength').value);
            const avgOutputLength = parseInt(document.getElementById('avgOutputLength').value);
            const cacheUsage = parseFloat(document.getElementById('cacheUsage').value) / 100;
            const sortBy = document.getElementById('sortBy').value;

            const inputTokens = charsToTokens(avgInputLength);
            const outputTokens = charsToTokens(avgOutputLength);

            const totalInputTokens = inputTokens * textCount;
            const totalOutputTokens = outputTokens * textCount;

            const cachedInputTokens = totalInputTokens * cacheUsage;
            const uncachedInputTokens = totalInputTokens * (1 - cacheUsage);

            let modelCosts = models.map(model => {
                let inputCost, outputCost, cacheCost;

                if (model.cacheReadPrice !== null && cacheUsage > 0) {
                    const cacheReadCost = (cachedInputTokens / 1000000) * model.cacheReadPrice;
                    const cacheWriteCost = (cachedInputTokens / 1000000) * model.cacheWritePrice * 0.1;
                    const uncachedCost = (uncachedInputTokens / 1000000) * model.inputPrice;

                    inputCost = uncachedCost;
                    cacheCost = cacheReadCost + cacheWriteCost;
                } else {
                    inputCost = (totalInputTokens / 1000000) * model.inputPrice;
                    cacheCost = 0;
                }

                outputCost = (totalOutputTokens / 1000000) * model.outputPrice;

                const totalUSD = inputCost + outputCost + cacheCost;
                const totalEUR = totalUSD * USD_TO_EUR;

                return {
                    model,
                    totalEUR,
                    inputCost,
                    outputCost,
                    cacheCost,
                    totalInputTokens,
                    totalOutputTokens
                };
            });

            // Sort models
            modelCosts.sort((a, b) => {
                switch (sortBy) {
                    case 'cost':
                        return a.totalEUR - b.totalEUR;
                    case 'cost-desc':
                        return b.totalEUR - a.totalEUR;
                    case 'intelligence':
                        return b.model.intelligence - a.model.intelligence;
                    case 'intelligence-asc':
                        return a.model.intelligence - b.model.intelligence;
                    case 'provider':
                        return a.model.provider.localeCompare(b.model.provider);
                    default:
                        return 0;
                }
            });

            const resultsHTML = modelCosts.map(({ model, totalEUR, inputCost, outputCost, cacheCost, totalInputTokens, totalOutputTokens }) => {
                const featuresHTML = model.features.map(f => `<span class="feature-tag">${f}</span>`).join('');
                const benchmarksHTML = Object.entries(model.benchmarks)
                    .map(([key, value]) => `<div class="benchmark-item"><span>${key}:</span><strong>${value}</strong></div>`)
                    .join('');

                return `
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-info">
                                <div class="model-name">
                                    ${model.name}
                                </div>
                                <div class="model-provider">${model.provider}</div>
                                <div class="unit-pricing">
                                    Input: $${model.inputPrice.toFixed(2)}/1M | 
                                    Output: $${model.outputPrice.toFixed(2)}/1M
                                    ${model.cacheReadPrice !== null ? ` | Cache: $${model.cacheReadPrice.toFixed(3)}/1M` : ''}
                                </div>
                                <div class="features">${featuresHTML}</div>
                            </div>
                            <div class="model-cost">‚Ç¨${totalEUR.toFixed(2)}</div>
                        </div>
                        <div class="benchmark-info">
                            <div class="benchmark-title">üìä Key Benchmarks & Capabilities</div>
                            <div class="benchmark-scores">${benchmarksHTML}</div>
                        </div>
                        <div class="cost-breakdown">
                            <div class="breakdown-item">
                                <div class="breakdown-label">Input Cost</div>
                                <div>‚Ç¨${(inputCost * USD_TO_EUR).toFixed(2)}</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-label">Output Cost</div>
                                <div>‚Ç¨${(outputCost * USD_TO_EUR).toFixed(2)}</div>
                            </div>
                            ${cacheCost > 0 ? `
                            <div class="breakdown-item">
                                <div class="breakdown-label">Cache Cost</div>
                                <div>‚Ç¨${(cacheCost * USD_TO_EUR).toFixed(2)}</div>
                            </div>
                            ` : ''}
                            <div class="breakdown-item">
                                <div class="breakdown-label">Input Tokens</div>
                                <div>${(totalInputTokens / 1000000).toFixed(2)}M</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-label">Output Tokens</div>
                                <div>${(totalOutputTokens / 1000000).toFixed(2)}M</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            const totalCost = modelCosts.reduce((sum, { totalEUR }) => sum + totalEUR, 0);

            document.getElementById('results').innerHTML = resultsHTML;
            document.getElementById('totalCost').textContent = `‚Ç¨${totalCost.toFixed(2)}`;
        }

        document.getElementById('textCount').addEventListener('change', calculateCosts);
        document.getElementById('avgInputLength').addEventListener('change', calculateCosts);
        document.getElementById('avgOutputLength').addEventListener('change', calculateCosts);
        document.getElementById('cacheUsage').addEventListener('change', calculateCosts);
        document.getElementById('sortBy').addEventListener('change', calculateCosts);

        calculateCosts();
    </script>
</body>

</html>